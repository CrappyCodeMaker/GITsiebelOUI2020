/*<ORACLECOPYRIGHT>
* Copyright (C) 2008-2016
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 16.0.0.0SIA[23057] */
typeof SiebelApp.Ruler=="undefined"&&(SiebelJS.Namespace("SiebelApp.Ruler"),SiebelApp.Ruler=function(){function e(e,t){return $.each(t,function(t,n){e=e.replace(new RegExp("{{"+t+"}}","g"),n)}),e}function t(){if($("#siebui-ruler-container").length!==0)return;var t='<div id="siebui-ruler-container" class="b-bar" style="display:none;"><div class="b-bar ruler"><div class="common-devices"><div class="devices-xs" style="left: 480px;">&laquo;</div><div class="devices-sm" style="left: 768px;">&laquo;</div><div class="devices-md" style="left: 992px;">&laquo;</div><div class="devices-lg" style="left: 1200px;">&laquo;</div></div><div class="ruler-container"><div class="ruler-offset"><div class="markers">{{markerGroup}}</div></div></div></div></div>',n='<div class="marker-group" style="{{style}}">{{marker}}</div>',r='<div class="marker-label">{{label}} px</div>',i='<div class="marker {{size}}"></div>',s=[],o;for(var u=0;u<40;u++){var a=[];a.push(e(r,{label:50*u})),a.push(e(i,{size:"small"}));for(var f=0;f<4;f++)a.push(e(i,{size:"large"})),a.push(e(i,{size:"small"}));s.push(e(n,{style:"left:"+50*u+"px;",marker:a.join("")}))}o=e(t,{markerGroup:s.join("")}),$("body").append(o)}function n(){var e=$("#siebui-ruler-container");SiebelApp.EventManager.addListner("showRuler",e.show,e),SiebelApp.EventManager.addListner("hideRuler",e.hide,e)}function r(){var e=$("#siebui-ruler-container");e.length!==0&&(e.remove(),SiebelApp.EventManager.removeListner("showRuler",e.show,e),SiebelApp.EventManager.removeListner("hideRuler",e.hide,e))}return{Init:function(){t(),n()},Destroy:r}}()),typeof SiebelApp.RulerGuide=="undefined"&&(SiebelJS.Namespace("SiebelApp.RulerGuide"),SiebelApp.RulerGuide=function(){function t(e){var t=$(e),n=t.offset(),r=t.outerWidth()-1,i=t.outerHeight()-1;return{top:n.top,bottom:n.top+i,left:n.left,right:n.left+r}}function n(e){var n=e.targetEl;if(!n)return;var r=t(n);$("#guide-top-line").css("top",r.top).show(),$("#guide-bottom-line").css("top",r.bottom).show(),$("#guide-left-line").css("left",r.left).show(),$("#guide-right-line").css("left",r.right).show()}function r(){$("#guide-left-line, #guide-right-line, #guide-top-line, #guide-bottom-line").hide()}function i(){var t=$("#ruler-guide-container");t.length===0&&$("body").append(e)}function s(){var e=$("#siebui-ruler-container");SiebelApp.EventManager.addListner("showRulerGuide",n),SiebelApp.EventManager.addListner("hideRulerGuide",r)}function o(){var e=$("#ruler-guide-container");e.length!==0&&(e.remove(),SiebelApp.EventManager.removeListner("showRulerGuide",n),SiebelApp.EventManager.removeListner("hideRulerGuide",r))}var e='<div id="ruler-guide-container"><div id="guide-top-line" class="ruler-guide ruler-guide-h"></div><div id="guide-bottom-line" class="ruler-guide ruler-guide-h"></div><div id="guide-left-line" class="ruler-guide ruler-guide-v"></div><div id="guide-right-line" class="ruler-guide ruler-guide-v"></div></div>';return{Init:function(){i(),s()},Destroy:o}}()),typeof SiebelApp.GridLayout=="undefined"&&(SiebelJS.Namespace("SiebelApp.GridLayout"),SiebelApp.GridLayout=function(){function e(e,t){return $.each(t,function(t,n){e=e.replace(new RegExp("{{"+t+"}}","g"),n)}),e}function t(){var t=$("body");if($("#siebui-grid-layout").length!==0||t.length==0)return;var n='<div id="siebui-grid-layout" class="siebui-grid filled adjust-for-scrollbar main" style="display: none;"><div class="container">{{gridLine}}{{smGridLine}}</div></div>',r='<div class="column col-{{index}} siebui-span-md-1 siebui-hidden-sm siebui-hidden-xs"><div class="inner-column"></div></div>',i='<div class="column col-{{index}} siebui-span-xs-6 siebui-span-sm-6 siebui-hidden-md siebui-hidden-lg siebui-hidden-xl"><div class="inner-column"></div></div>',s=[],o=[],u;for(var a=0;a<12;a++)s.push(e(r,{index:a+1}));for(var a=0;a<2;a++)o.push(e(i,{index:a+1}));u=e(n,{gridLine:s.join(""),smGridLine:o.join("")}),t.append(u),s=o=u=null}function n(){var e=$("#siebui-grid-layout");SiebelApp.EventManager.addListner("showGridLayout",e.show,e),SiebelApp.EventManager.addListner("hideGridLayout",e.hide,e)}function r(){var e=$("#siebui-grid-layout");e.length!==0&&(e.remove(),SiebelApp.EventManager.removeListner("showGridLayout",e.show,e),SiebelApp.EventManager.removeListner("hideGridLayout",e.hide,e))}return{Init:function(){t(),n()},Destroy:r}}()),typeof SiebelApp.UIInteractionMgr=="undefined"&&(SiebelJS.Namespace("SiebelApp.UIInteractionMgr"),SiebelApp.UIInteractionMgr=function(){function x(e){return e.closest('[irt="ListColumn"], [ort="ListColumn"], [irt="VWTI"], [ort="VWTI"]')}function T(e){if(!l){var t=$(e.originalEvent.srcElement),n,r;t.length&&(n=x.call(this,t),r=t.closest("#action_palette"));if(!(r&&r.length>0))if(n&&n.length>0){var i=n.attr(m);i!==u&&(o&&o!==n&&(k.call(SiebelApp.UIInteractionMgr,o),o=null),C.call(SiebelApp.UIInteractionMgr,n),u=i)}else o&&(k.call(SiebelApp.UIInteractionMgr,o),o=null)}}function N(e){if(!l){var t=$(e.originalEvent.srcElement),n;t&&(n=x.call(this,t)),n&&n.length>0&&(o=n)}}function C(e){s.Notify({type:n,data:{objectId:e.attr("id"),objectName:e.attr("irn")||e.attr("orn"),objectType:e.attr("irt")||e.attr("ort"),evtSrc:t}})}function k(e){s.Notify({type:r,data:{objectId:e.attr("id"),objectName:e.attr("irn")||e.attr("orn"),objectType:e.attr("irt")||e.attr("ort"),evtSrc:t}})}function L(){$("#SiebMainView [ort = 'WT']").processComments(!0);var e=SiebelApp.S_App.GetActiveView();e&&(a=e.GetName(),s.Notify({type:i,data:{evtSrc:t,objectId:$("[irt='View']").eq(0).attr("id"),objectType:"View",objectName:a}}))}var e=SiebelJS.Dependency("SiebelApp.Constants"),t=e.get("SWE_COMPOSER_EVT_SRC_APP"),n=e.get("SWE_COMPOSER_EVT_HOVER_IN"),r=e.get("SWE_COMPOSER_EVT_HOVER_OUT"),i=e.get("SWE_COMPOSER_EVT_VIEW_NAVIGATION"),s,o,u,a,f,l=!1,c="[ort = 'WT']",h="[ort='WTI']",p="[wtit = 'C']",d="[wtit = 'CI']",v="[irt = 'WT']",m="orn",g="irn",y="prn",b=!1,w=function(){function k(){}function L(e){if(!l){var t=$(e.originalEvent.srcElement),n;t.length&&(n=t.closest(h));if(n.length){var r=n.eq
(0),i=r.attr(y);a&&a.length&&a.removeClass("siebconfig-cont-candidate-hover siebconfig-drag-candidate"),(!x||i!==x.attr(g)&&!x.is(r))&&A.call(this,r),a=r,r.addClass("siebconfig-cont-candidate-hover siebconfig-drag-candidate")}}}function A(e){x&&(x.sortable("instance")&&x.sortable("destroy"),x.children().unwrap());var t=e.attr(y);if(e.closest(c).attr(m)!==t){var n=e.closest(":data("+t+"_OpenTemplate)"),r=O.call(this,t,n);n.children(r).wrapAll("<div id = 'WrappedDiv'"+n.data(t+"_OpenTemplate")+" />"),x=n.find("#WrappedDiv").eq(0),x.sortable("instance")||x.sortable(C)}}function O(e,t){var n="["+y+' = "'+e+'"]',r=t.data("datakeys");if(r){var i=r.length,s;for(var o=0;o<i;o++)r[o].indexOf("_OpenTemplate")>-1&&(s=$("<div "+t.data(r[o])+"/>"),s.attr(y)===e&&r.indexOf(s.attr(g)+"_CloseTemplate")>-1&&(n=n+" , ["+y+' = "'+s.attr(g)+'"]'));s=null}return n}function M(){F.call(this,"#SiebMainView [wtit = 'C'],#SiebMainView [ort = 'WT']")}function _(){F.call(this,"#SiebMainView [wtit = 'C'],#SiebMainView [ort = 'WT']")}function D(){F.call(this,"[name=popup] [wtit = 'C'],[name=popup] [ort = 'WT']")}function P(e){var t=e?$("#SiebMainView"):$("body");t.find("span[wtit='CI']").each(function(){var e=$(this).children().eq(0).css("float");if(e==="left"||e==="right")$(this).addClass("float-"+e);else{var t=$(this).children().eq(0).css("display");t==="inline-block"&&$(this).css("display","inline-block")}$(this).children().length===0&&$(this).css("display","none")}),t.find("div[irt='WT'], div[ort='WT']").each(function(){var e=$(this).children().eq(0).css("display");e==="inline-block"&&$(this).addClass("inline-block");var t=$(this).children().eq(0).css("float");(t==="left"||t==="right")&&$(this).addClass("float-"+t)});var n=$(".siebui-nav-hb-btn");n.length&&n.closest(d).addClass("siebconfig-cont-candidate-hover-solid"),t=n=null}function H(e){var t=j.call(this,e),n=f.ComposerCompMgr.FindComposerComp("treeComp")||f.ComposerCompMgr.MakeComposerComp("rootComp","treeComp",{});n.RefreshViewModel(t,"Layout"),n.ApplyUIBindings()}function B(){var e=f.ComposerCompMgr.FindComposerComp("treeComp")||f.ComposerCompMgr.MakeComposerComp("rootComp","treeComp",{});e.RefreshViewModel(null,"Layout"),e.ApplyUIBindings()}function j(e){var t=e.children(),n=t.length,r={},i=e.attr(g)||e.attr(m);if(n&&i){var s,o=[],u,a,l,c;for(var h=0;h<n;h++){s=t.eq(h),l=s.attr("ort")&&s.attr("ort")==="WTI"?s.attr(m):null;if(l){a={},a.name=(s.attr("irt")||s.attr("ort"))+" - "+l,a.displayedInUI=!0,s.hasClass("siebconfig-drag")&&(a.className="siebcomp-layout-activenode"),s.next("span.ui-sortable-placeholder").length&&(a.className=(a.className||"")+" siebcomp-layout-target"),c=f.EventTransmogrifier.GetObjMetadata(i+"."+l);if(c&&c.Metadata){a.seq=parseInt(c.Metadata.Sequence,10);if(!s.attr("irt")||s.attr("irt")!=="WT")u=j.call(this,s),u.length&&(a.children=u);o.push(a)}}}o.length>0&&(r.name=(e.attr("irt")||e.attr("ort"))+" - "+i,r.children=o||[])}return r}function F(a){l=!1,e=null,t=null,n=null,r=[],i=[],E=null,o=[],P.call(this,a),T=null,N=null;var v=function(e){r=t.find(p+"["+y+" = '"+E+"']").add(t),r.addClass("siebconfig-drop-candidate"),e.removeClass("siebconfig-drop-candidate")},L=function(e){var n=t.find(":data(datakeys)");t.data("datakeys")&&n.add(t),n.each(function(){var e=$(this),t=e.data("datakeys");if(t){var n=t.length,r;for(var i=0;i<n;i++)t[i].indexOf("_OpenTemplate")>-1&&(r=$("<div class = siebconfig-wrapped-drop-candidate "+e.data(t[i])+"/>"),r.attr(y)===E&&e.children("["+y+' = "'+r.attr(g)+'"]').wrapAll(r))}}),t.find(h).each(function(){var t=$(this);E===t.attr(y)&&e.find(t).length===0&&(i.push(t),t.addClass("siebconfig-drag-candidate"))})},A=function(e){t.find(p+":not(.siebconfig-wrapped-drop-candidate)"+","+c).each(function(){var e=$(this);if(e.attr("ort")==="WT"||e.attr(y)!==E){e.sortable("disable"),o.push(e);var t=e.find(p+":not(.siebconfig-wrapped-drop-candidate)");t.length&&(o.concat(t),t.sortable("disable"))}});var n=e.find(p+":not(.siebconfig-wrapped-drop-candidate)"+","+c);o.concat(n),n.sortable("disable")},M=function(e){E=e.attr(y),e.data("dataCheck")&&(E=e.data("dataAtrributesMap")[y]),t=e.closest("["+m+" = '"+E+"'],["+g+" = '"+E+"']");if(t.length===0){var n=e.closest(":data("+E+"_OpenTemplate)"),r=O.call(this,E,n);n.children(r).wrapAll("<div id = 'WrappedBoundaryDiv'"+n.data(E+"_OpenTemplate")+" />"),T=n.find("#WrappedBoundaryDiv").eq(0),t=T}t.addClass("siebconfig-cont-dsts")},_=function(e){var t=e.attr(y);if(e.find(":data("+t+"_CloseTemplate)").length||e.data(t+"_CloseTemplate")){var n=e.closest("#WrappedDiv");if(!(n.children().index(e)>0)){var r={},i=$("<div "+e.data("commentdata").commentValue+" />");r.wtit=i.attr("wtit"),r.ort=i.attr("ort"),r[m]=i.attr(m),r[g]=i.attr(g),r[y]=i.attr(y),e.data({dataCheck:!0,dataAtrributesMap:r}),n.after($("<ins class = 'siebconfig-drag-placeHolder'/>"))}}else e.after($("<ins class = 'siebconfig-drag-placeHolder'/>"));return e},D=function(t){var n=f.EventTransmogrifier.TransmogrifyEvent("Drop",t);n&&n.bCancelOp?e.sortable("cancel"):(s.Notify(n),b=!0)};C={items:".siebconfig-drag-candidate",helper:function(e,t){var n=_.call(k,t);return n.removeClass("siebconfig-cont-candidate-hover").addClass("siebconfig-drag"),n},connectWith:".siebconfig-drop-candidate",start:function(n,r){e=$(this);var i=r.item;M.call(k,i),v.call(k,i),L.call(k,i),A.call(k,i),l=!0,$(this).sortable("refresh"),r.placeholder.addClass("siebconfig-drop-placeholder").append("&nbsp;"),u=e.children(h+":not('.siebconfig-drag-placeHolder')").index(i),H.call(this,t)},change:function(e,n){S&&(n.placeholder.addClass("siebconfig-drop-placeholder"),S=!1),H.call(this,t)},out:function(e,t){S=!0,t.placeholder.removeClass("siebconfig-drop-placeholder")},update:function(n,r){if(S)e.sortable("cancel");else{var i=$(this),s=r.item;if(e.is(i)){if(e.find(s).length)if(s.parentsUntil(i,w).length)e.sortable("cancel");else{var o=e.children(h+":not('.siebconfig-drag-placeHolder')").index(s);(o<-1||o!==u)&&D.call(this,s,e)}}else!t||t.find(s).length!==0&&E===(i.closest
(w).attr(g)||i.closest(w).attr(m))?s.parentsUntil(i,d).length?e.sortable("cancel"):b||D.call(this,s,e):e.sortable("cancel")}H.call(this,t)},stop:function(n,s){var u=s.item,a=u.data("dataCheck"),f=a?e.siblings(".siebconfig-drag-placeHolder").eq(0):e.find(".siebconfig-drag-placeHolder").eq(0);t.find(".siebconfig-wrapped-drop-candidate").children().unwrap();if(b){T&&T.children().unwrap(),T=null;if(u.is(x)||a)u.next(":not(.siebconfig-drag-placeHolder)").length===0&&u.after($("<ins/>")),f.next().length>0&&f.next().data("commentdata")&&(u.next(":not(.siebconfig-drag-placeHolder)").data("commentdata",f.next().data("commentdata")),f.next().removeData("commentdata"));else{var c=u.data("commentdata"),h=u.next(":not(.siebconfig-drag-placeHolder)").length?u.next(":not(.siebconfig-drag-placeHolder)").data("commentdata"):null;c&&(f.next().length===0&&f.after($("<ins/>")),f.next().data("commentdata",c)),h&&h.ct!=="CloseTag"?u.data("commentdata",h):u.removeData("commentdata")}x&&(x.sortable("instance")&&x.sortable("destroy"),u.is(x)?(u=x.children().eq(0),u.unwrap()):x.children().unwrap()),u.updateComments(f.parent()),b=!1}f.remove(),f=null,t.removeClass("siebconfig-cont-dsts"),r.removeClass("siebconfig-drop-candidate"),$.each(o,function(){this.sortable("instance")&&this.sortable("enable")}),$.each(i,function(){this.removeClass("siebconfig-drag-candidate")}),e.sortable("instance")&&e.sortable("refresh"),l=!1,e=null,r=[],i=[],E=null,S=!1,T&&T.children().unwrap(),T=null,s.item.removeClass("siebconfig-drag");var p=this;setTimeout(function(){B.call(p),p=null},1500)},revert:!0,tolerance:"pointer"},a||(a=p+","+c),$(a).sortable(C)}var e=null,t=null,n=null,r=[],i=[],o=[],u,a,w=c+","+v,E,S=!1,x=null,T,N,C;return k.prototype.BindEvents=function(){var e=this;SiebelApp.EventManager.addListner("refreshview",M,this),SiebelApp.EventManager.addListner("newappletlayout",_,this),SiebelApp.EventManager.addListner("refreshlayout",_,this),SiebelApp.EventManager.addListner("refreshpage",_,this),SiebelApp.EventManager.addListner("refreshpopup",D,this),$(function(){$("body").off("mouseover",L).on("mouseover",L),F.call(e)})},k.prototype.EndLife=function(){SiebelApp.EventManager.removeListner("refreshview",M,this),SiebelApp.EventManager.removeListner("newappletlayout",_,this),SiebelApp.EventManager.removeListner("refreshlayout",_,this),SiebelApp.EventManager.removeListner("refreshpage",_,this),SiebelApp.EventManager.removeListner("refreshpopup",D,this)},{Init:function(){k=new k,k.BindEvents()},Destroy:function(){k.EndLife(),k=null}}}(),E=function(){function e(){}function o(e,t){var n=$(t),r=n.css("position");r&&r!=="relative"&&n.css("position",r),n=r=null}function u(e){e=e||p+":not([irn])";var t;$(e).filter(function(){return t=$(this),t.not(":button, :input").length>0&&t.find(":not("+h+") :not('ins')").length>0?(o.call(this),!0):!1}).resizable({handles:"se, sw",start:function(){var e=$(this);l=!0,SiebelApp.EventManager.fireEvent("showGridLayout"),SiebelApp.EventManager.fireEvent("showRuler"),e.addClass("resizable-helper")},resize:function(){var e=$(this);i.call(this,e),SiebelApp.EventManager.fireEvent("showRulerGuide",{targetEl:e})},stop:function(e,t){var n=t.element;l=!1,SiebelApp.EventManager.fireEvent("hideGridLayout"),SiebelApp.EventManager.fireEvent("hideRuler"),SiebelApp.EventManager.fireEvent("hideRulerGuide"),i.call(this,n),n.removeClass("resizable-helper"),s.Notify(f.EventTransmogrifier.TransmogrifyEvent("Resize",n))}}).find(" > .ui-resizable-handle").hide(),$(e).not(":empty, :input").find(" > .ui-resizable-sw").addClass("ui-icon"),t=null}e.prototype.BindEvents=function(){u.call(this,p),SiebelApp.EventManager.addListner("refreshview",t,this),SiebelApp.EventManager.addListner("newappletlayout",t,this),SiebelApp.EventManager.addListner("refreshlayout",t,this),SiebelApp.EventManager.addListner("refreshpage",t,this),SiebelApp.EventManager.addListner("refreshpopup",n,this),$("body").on("mouseover",r)},e.prototype.EndLife=function(){SiebelApp.EventManager.removeListner("refreshview",t,this),SiebelApp.EventManager.removeListner("newappletlayout",t,this),SiebelApp.EventManager.removeListner("refreshlayout",t,this),SiebelApp.EventManager.removeListner("refreshpage",t,this),SiebelApp.EventManager.removeListner("refreshpopup",n,this),$("body").off("mouseover",r)};var t=SiebelApp.Utils.Curry(u,"#SiebMainView [wtit = 'C']:not([irn])"),n=SiebelApp.Utils.Curry(u,"[name=popup] [wtit = 'C']:not([irn])"),r=function(){var e,t;return function(n){if(!l){var r=$(n.originalEvent.srcElement),i=".ui-resizable[wtit = 'C']",s;r.length&&(s=r.closest(i),s.length&&(e&&e.hide(),t&&t.hide(),e=s.eq(0).find("> .ui-resizable-se"),e.show().position({my:"right bottom",at:"right bottom",of:s.eq(0)}),t=s.eq(0).find("> .ui-resizable-sw"),t.show().position({my:"left bottom",at:"left bottom",of:s.eq(0)})))}}}(),i=function(){function r(){var e=t;return $.each(n,function(t,n){if(Modernizr.mq(t))return e=n,!1}),e}var e=[0,8.33333333,16.66666667,25,33.33333333,41.66666667,50,58.33333333,66.66666667,75,83.33333333,91.66666667,100],t={cls:"siebui-span-sm-",regx:/(^|\s)siebui-span-sm-\S+/g},n={"(min-width: 992px)":{cls:"siebui-span-lg-",regx:/(^|\s)siebui-span-lg-\S+/g},"(min-width: 768px)":{cls:"siebui-span-md-",regx:/(^|\s)siebui-span-md-\S+/g},"(min-width: 480px)":{cls:"siebui-span-sm-",regx:/(^|\s)siebui-span-sm-\S+/g}};return function(t){var n=r.call(this),i=t.outerWidth(),s=t.parent().outerWidth(),o=i/s*100,u=0,a=Math.abs(o-e[0]);for(var f=1,l=e.length;f<l;f++){var c=Math.abs(o-e[f]);c<a&&(a=c,u=f)}t.css({width:"",height:"",left:""}).removeClass(function(e,t){return(t.match(n.regx)||[]).join(" ")}).addClass(function(){var e=u?n.cls+u:"";return t.data("siebconfig-resize-responsive-class",e),e})}}(),a=new e;return{Init:function(){a.BindEvents()},Destroy:function(){a.EndLife()}}}(),S=function(){};return S.Start=function(){f=window.parent.SiebelAppComposer,f.Broker.DeleteModule("UIInteractionMgr"),s=f.Broker.CreateModule("UIInteractionMgr",S),s.Notify({type:e.get("SWE_COMPOSER_EVT_APP_INITIALIZED"
),data:{objectName:"Application",objectType:"Application",objectId:"Application"}})},S.Init=function(){SiebelApp.UIInteractionMgr=S=new S,S.BindDOMEvents(),E.Init(),w.Init(),SiebelApp.Ruler&&SiebelApp.Ruler.Init(),SiebelApp.RulerGuide&&SiebelApp.RulerGuide.Init(),SiebelApp.GridLayout&&SiebelApp.GridLayout.Init()},S.Destroy=function(){s=null,S=null,E.Destroy(),w.Destroy(),SiebelApp.Ruler&&SiebelApp.Ruler.Destroy(),SiebelApp.RulerGuide&&SiebelApp.RulerGuide.Destroy(),SiebelApp.GridLayout&&SiebelApp.GridLayout.Destroy()},S.prototype.BindDOMEvents=function(){SiebelApp.EventManager.addListner("refreshview",L,this),$(function(){$("body").off("mouseover",T).on("mouseover",T).off("mouseover",N).on("mouseout",N),$("[ort = 'WT']").processComments(!0)})},S.prototype.CommitOnToggle=function(){s.Notify({type:"evtToggleConfigMode",data:{evtSrc:t,objectId:$("[irt='View']").eq(0).attr("id"),objectType:"View",objectName:SiebelApp.S_App.GetActiveView().GetName()}})},S}()),function(e){function t(t){t.data("datakeys")&&t.removeData(t.data("datakeys")),t.children(":data('commentdata')").each(function(){var n=e(this).data("commentdata");n.ct!=="CloseTag"&&t.data(n.irn+"_"+n.ct,n.commentValue)})}function n(e){var t=!1;return e.match(/^ Open Template/)&&(t=!0),t}function r(e){var t=!1;return e.match(/^ Close Template/)&&(t=!0),t}function i(e){var t=!1;return e.match(/^ Close Tag/)&&(t=!0),t}e.fn.processComments=function(t){t=t||!1;var s=this,o,u,a,f,l,c=this.contents();c.each(function(h,p){p.nodeType===8?(a=p.nodeValue,n.call(this,a)?(a=a.replace(" Open Template",""),u=e("<div"+a+"></div>"),o="OpenTemplate",l=u.attr("irn")+"_"+o,s.data("datakeys")||s.data("datakeys",[]),s.data("datakeys").push(l),s.data(l,a)):r.call(this,a)?(a=a.replace(" Close Template",""),u=e("<div"+a+"></div>"),o="CloseTemplate",l=u.attr("irn")+"_"+o,s.data("datakeys")||s.data("datakeys",[]),s.data("datakeys").push(l),s.data(l,a)):i.call(this,a)&&(u=e(a.replace(" Close Tag","<div")+"></div>"),o="CloseTag"),o&&(c.eq(h+1).length===0||c.eq(h+1)[0].nodeType===8||c.eq(h+1).hasClass("ui-resizable-handle")&&c.eq(h+2).length===0?(f=e("<ins></ins>"),c.eq(h).after(f)):f=c.eq(h+1),f.data({commentdata:{ct:o,orn:u.attr("orn"),irn:u.attr("irn"),commentValue:a,prn:u.attr("prn")}}),c.eq(h).remove()),o=null):t&&p.nodeType===1&&e(this).attr("wtit")!=="CI"&&e(p).processComments(!0)})},e.fn.updateComments=function(e){t.call(this,e),t.call(this,this.parent())}}(jQuery);
